# ================================================================
# TMUX CONFIGURATION - MODERN AESTHETIC DESIGN
# ================================================================

# ----------------------------------------------------------------
# TERMINAL & COLOR SETTINGS
# ----------------------------------------------------------------
# Better terminal support with true color
set-option -g default-terminal "xterm-kitty"
set-option -ga terminal-overrides ",*256col*:Tc"
set-option -g focus-events on

# Enable system clipboard integration
set-option -g set-clipboard on
set-option -ga terminal-overrides ",xterm*:Tc"
set-option -g allow-passthrough on

# Copy bindings using xclip
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "xclip -selection clipboard -in"
bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "xclip -selection clipboard -in"
bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "xclip -selection clipboard -in"

# Remove delay when switching between Vim modes
set -sg escape-time 0

# ----------------------------------------------------------------
# GENERAL SETTINGS
# ----------------------------------------------------------------
# Use vim keybindings
set-window-option -g mode-keys vi

# Enable mouse support
set -g mouse on

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# Renumber windows when one is closed
set -g renumber-windows on

# Increase scrollback buffer size
set -g history-limit 50000

# Increase tmux messages display duration
set -g display-time 4000

# Refresh status line every 5 seconds
set -g status-interval 5

# ----------------------------------------------------------------
# KEY BINDINGS
# ----------------------------------------------------------------
# Make new panes inherit pwd path
bind '"' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"

# Better pane navigation (vim-like)
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Resize panes with arrow keys
bind -r Left resize-pane -L 5
bind -r Down resize-pane -D 5
bind -r Up resize-pane -U 5
bind -r Right resize-pane -R 5

# Quick reload of config file
bind r source-file ~/.tmux.conf \; display-message "Config reloaded!"

# ----------------------------------------------------------------
# VISUAL DESIGN - WINDOWS TERMINAL THEME
# ----------------------------------------------------------------

# Solarized Light theme colors
# Using terminal named colors that adapt to your color scheme
color_bg="default"             # Background (#FDF6E3)
color_fg="terminal"            # Foreground (#657B83)

# Base colors (Solarized base scale for light background)
color_base03="black"           # base03 (#002B36) - darkest
color_base02="brightblack"     # base02 (#073642)
color_base01="brightgreen"     # base01 (#586E75) - emphasized content
color_base00="brightyellow"    # base00 (#657B83) - body text
color_base0="brightblue"       # base0 (#839496) - comments
color_base1="brightcyan"       # base1 (#93A1A1)
color_base2="white"            # base2 (#EEE8D5) - background highlights
color_base3="brightwhite"      # base3 (#FDF6E3) - background (lightest)

# Accent colors
color_yellow="yellow"          # Yellow (#B58900)
color_orange="brightred"       # Orange (#CB4B16)
color_red="red"                # Red (#DC322F)
color_magenta="magenta"        # Magenta (#D33682)
color_violet="brightmagenta"   # Violet (#6C71C4)
color_blue="blue"              # Blue (#268BD2)
color_cyan="cyan"              # Cyan (#2AA198)
color_green="green"            # Green (#859900)

# ----------------------------------------------------------------
# STATUS BAR DESIGN - MINIMALIST STYLE WITH BORDER
# ----------------------------------------------------------------
# Status bar general settings
set -g status-position bottom
set -g status-justify centre
set -g status-style "bg=$color_bg,fg=$color_fg"
set -g status-left-length 100
set -g status-right-length 100

# Left status: Host and session name (minimalist with bright prefix indicator)
set -g status-left "#{?client_prefix,#[bg=$color_orange]#[fg=$color_base3],#[bg=$color_blue]#[fg=$color_base3]}#[bold] #(ps -t #{pane_tty} -o command= 2>/dev/null | awk '/^ssh / {print \"⇄\", $2; found=1; exit} END {if (!found) print \"#h\"}') | #{session_name} #[bg=$color_bg,fg=$color_base01] #[fg=$color_base01] #[bg=$color_bg,fg=$color_base01]"

# Right status: Git branch, battery, time and date (minimalist)
set -g status-right "#[fg=$color_cyan]#(cd #{pane_current_path}; git rev-parse --abbrev-ref HEAD 2>/dev/null | sed 's/.*/ &/') #[fg=$color_base1]│#[fg=$color_base01] #(cat /sys/class/power_supply/BAT*/capacity 2>/dev/null | head -1 | sed 's/$/%/') #[fg=$color_base1]│#[fg=$color_base01] %H:%M #[fg=$color_base1]│#[fg=$color_base01] %d %b"

# Window status format (minimalist with bright active window)
setw -g window-status-current-format "#[bg=$color_cyan]#[fg=$color_base3]#[bold] #I #W#{?window_zoomed_flag, Z,} #[default]"
setw -g window-status-format "#[fg=$color_base00] #I #W#{?window_zoomed_flag, Z,} #[default]"

# Window status separator
setw -g window-status-separator ""

# Activity and bell styling
setw -g window-status-activity-style "fg=$color_red,bold"
setw -g window-status-bell-style "fg=$color_red,bold"

# ----------------------------------------------------------------
# PANE BORDERS - MINIMALIST STYLE
# ----------------------------------------------------------------
# Pane border colors
set -g pane-border-style "fg=$color_base0"
set -g pane-active-border-style "fg=$color_cyan,bold"

# No pane border status (border is part of status bar now)
set -g pane-border-status off

# ----------------------------------------------------------------
# MESSAGE STYLING
# ----------------------------------------------------------------
# Command line/message text
set -g message-style "bg=$color_blue,fg=$color_base3,bold"
set -g message-command-style "bg=$color_base02,fg=$color_base2"

# ----------------------------------------------------------------
# COPY MODE STYLING
# ----------------------------------------------------------------
# Copy mode colors (matches prefix indicator)
setw -g mode-style "bg=$color_orange,fg=$color_base3,bold"

# ----------------------------------------------------------------
# CLOCK STYLING
# ----------------------------------------------------------------
# Clock mode colors
setw -g clock-mode-colour "$color_blue"
setw -g clock-mode-style 12

# ----------------------------------------------------------------
# PLUGIN CONFIGURATION (Commented out but ready to use)
# ----------------------------------------------------------------
# List of plugins
# set -g @plugin 'tmux-plugins/tpm'
# set -g @plugin 'tmux-plugins/tmux-sensible'
# set -g @plugin 'tmux-plugins/tmux-yank'
# set -g @plugin 'tmux-plugins/tmux-resurrect'

# Initialize TMUX plugin manager (keep this line at the very bottom)
# run '~/.tmux/plugins/tpm/tpm'
